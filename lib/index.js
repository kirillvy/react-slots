!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("react-slots-library",["react"],t):"object"==typeof exports?exports["react-slots-library"]=t(require("react")):e["react-slots-library"]=t(e.react)}(window,function(e){return function(e){var t={};function o(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,l){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(l,n,function(t){return e[t]}.bind(null,n));return l},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(t,o){t.exports=e},function(e,t,o){"use strict";var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(o(0));t.isConditionsComponent=e=>void 0!==e.test;class r extends Map{includes(...e){return this.evalSlots(e)}excludes(...e){return!this.evalSlots(e)}evalSlots(e){return e.every(e=>{if(t.isConditionsComponent(e)){const{slot:t,test:o}=e;return!!n.default.isValidElement(t)&&(void 0!==this.get(t.displaySymbol)&&!0===o(t.props))}return void 0!==this.get(e.displaySymbol)})}}t.default=e=>{if(e instanceof r)return e;if(void 0===e||0===e.length)return new r;const t=n.default.Children.count(e),o=new r,l=(e,t)=>{let l="string";if(n.default.isValidElement(e)&&void 0!==e.type){const t=e.type;l=t.hasOwnProperty("displayName")?t.displayName||"string":t,t.hasOwnProperty("displaySymbol")&&(l=t.displaySymbol)}const r=o.get(l);void 0===r?o.set(l,[{index:t,child:e}]):(r.push({index:t,child:e}),o.set(l,r))};return 1===t?l(e,0):t>1&&n.default.Children.forEach(e,l),o.set("$$isSlottedChildren",[]),o}},function(e,t,o){"use strict";var l=this&&this.__rest||function(e,t){var o={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(o[l[n]]=e[l[n]])}return o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(o(0)),i=n(o(1)),s=n(o(3)),a=Symbol(),u=Symbol(),c=Symbol(),d=Symbol(),p=({scope:e,excludes:t,includes:o,condition:l})=>{const n=i.default(e),r=!e||!o||n.includes(...o),s=!e||!t||n.excludes(...t),a=void 0===l||Boolean(l);return r&&s&&a};function f(e=r.default.Fragment,t=u,o){function n(t){const{children:a,scope:u,excludes:c,includes:d,condition:f}=t,y=l(t,["children","scope","excludes","includes","condition"]),m=e===r.default.Fragment?{}:Object.assign({scope:u},y),b=i.default(a),S=void 0!==o||p({scope:u,excludes:c,includes:d,condition:f}),v=b.get(n.displaySymbol);let h=null,[O,g]=[!1,!1];if(void 0!==v)for(let e=0;e<v.length;e++){const t=v[e].child,o=p(t.props);if(o&&(h=t),!1!==O||!1!==g||t.type.typeSymbol!==n.If.typeSymbol){if(t.type.typeSymbol!==n.ElseIf.typeSymbol){if(t.type.typeSymbol===n.Else.typeSymbol){h=t;break}}else if(g=!0,o)break}else if(O=!0,o)break}return S?O&&null!=h?r.default.createElement(e,m,r.default.createElement(s.default,{key:0,scope:a,exclude:[n]}),h):r.default.createElement(e,m,r.default.createElement(s.default,{key:0,scope:a,exclude:[n]})):null!==h&&!1===O?r.default.createElement(e,m,h):null}if(n.displaySymbol=a,n.typeSymbol=t,void 0===o){const e=f(r.default.Fragment,u,n),t=f(r.default.Fragment,c,n),o=f(r.default.Fragment,d,n);n.If=e,n.ElseIf=t,n.Else=o}else setTimeout(()=>{n.If=o.If,n.ElseIf=o.Else,n.Else=o.ElseIf},0);return n}t.createConditionalSlot=f;const y=f();t.default=y},function(e,t,o){"use strict";var l=this&&this.__rest||function(e,t){var o={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(o[l[n]]=e[l[n]])}return o},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=n(o(0)),i=n(o(1));t.resObject=e=>void 0===e?{}:e.reduce((e,t)=>{if(i.isConditionsComponent(t)){const{slot:o,test:l}=t;if(r.isValidElement(o)){const t=o.displaySymbol;e[t]=void 0!==t&&!0===l(o.props)}}else{const o=t.displaySymbol;void 0===e[o]&&(e[o]=!0)}return e},{});const s=({scope:e,exclude:o,include:l,grouped:n,all:s})=>{const a=i.default(e),u=t.resObject(l),c=t.resObject(o),d=[];if(a.forEach((e,t)=>{!0===(e=>l?!!u[e]||"symbol"!=typeof e&&!0===s:o?!c[e]:void 0)(t)&&d.push(...e)}),!0===n)return r.createElement(r.Fragment,null,d.map(e=>e.child));const p=d.sort((e,t)=>e.index-t.index).map(e=>e.child);return r.createElement(r.Fragment,null,p)};s.SubSlot=(e=>t=>{var{scope:o}=t,n=l(t,["scope"]);return r.createElement(o.Consumer,null,t=>r.createElement(e,Object.assign({},n,{scope:t})))})(s);const a=s;t.default=a},function(e,t,o){"use strict";var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(o(2));t.ConditionalSlot=n.default;const r=l(o(1));t.useScope=r.default,t.useChildren=r.default;const i=l(o(5));t.createSlot=i.default;const s=l(o(3));t.FilterSlot=s.default,t.NonSlotted=s.default,t.default=i.default},function(e,t,o){"use strict";var l=this&&this.__rest||function(e,t){var o={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(o[l[n]]=e[l[n]])}return o},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(o(0)),s=o(2),a=r(o(1)),u=(e=i.Fragment)=>t=>{var{children:o,renderAs:n}=t,r=l(t,["children","renderAs"]);return i.createElement(n||e,r,o)};t.createSlot=(e=i.Fragment)=>{const t=u(e);return t.Context=i.createContext(null),t.displaySymbol=Symbol(),t.Before=u(),t.Before.displaySymbol=Symbol(),t.Before.Conditional=s.createConditionalSlot(t.Before),t.Before.Conditional.displaySymbol=t.Before.displaySymbol,t.After=u(),t.After.displaySymbol=Symbol(),t.After.Conditional=s.createConditionalSlot(t.After),t.After.Conditional.displaySymbol=t.After.displaySymbol,t.Slot=(e=>({scope:t,children:o,multiple:l=!1,defaultProps:n,passedProps:r,withContext:s,fallback:u,fallbackProps:c,props:d,childIs:p,test:f})=>{const y=a.default(t),m=(t,l)=>{if(!0===s&&void 0!==o){if("fallback"===p)return null;if(void 0===e.Context.Provider)return null;const n=i.cloneElement(t,Object.assign({},d,r));return i.cloneElement(t,Object.assign({key:l},d,r),i.createElement(e.Context.Provider,{key:l,value:a.default(n.props.children)},o))}const u=t.props;return void 0===t.props?t:u.hasOwnProperty("children")?i.cloneElement(t,Object.assign({key:l},d,r)):i.cloneElement(t,Object.assign({key:l},d,n,r),o)},b=y.get(e.displaySymbol),S=y.get(e.Before.displaySymbol)||[],v=y.get(e.After.displaySymbol)||[],h=S.map(e=>e.child),O=v.map(e=>e.child);if(void 0===b)return"fallback"!==p&&"both"!==p||void 0===o?void 0!==u?i.cloneElement(u,c):i.createElement(i.Fragment,null,h,O):i.cloneElement(o,c);if(!0===l){let e=b.reduce((e,{index:t,child:o})=>{const l=m(o,t);return null!==l&&e.push(l),e},[]);return void 0!==f&&(e=e.filter(e=>f(e.props))),i.createElement(i.Fragment,null,h,e,O)}{const{child:e}=b[0];return i.createElement(i.Fragment,null,h,m(e),O)}})(t),t.Slot.displaySymbol=Symbol(),t.Slot.Conditional=s.createConditionalSlot(t.Slot),t.SubSlot=(e=>t=>{var{scope:o}=t,n=l(t,["scope"]);return i.createElement(o.Consumer,null,t=>i.createElement(e.Slot,Object.assign({},n,{scope:t})))})(t),t.SubSlot.displaySymbol=Symbol(),t.SubSlot.Conditional=(e=>t=>{var{scope:o}=t,n=l(t,["scope"]);return i.createElement(o.Consumer,null,t=>i.createElement(e.Slot.Conditional,Object.assign({},n,{scope:t})))})(t),"string"!=typeof e?(t.defaultProps=e.defaultProps,t.contextTypes=e.contextTypes,t.Slot.displayName=`${e.displayName}.Slot`,t.propTypes=e.propTypes,void 0===e.displayName&&(t.Slot.displayName="Subcomponent.Slot")):(t.Slot.displayName=`${e}.Slot`,t.displayName=`${t.displayName}.SlottedElement`,void 0===e&&(t.Slot.displayName="Subcomponent.Slot",t.displayName="Subcomponent.SlottedElement")),t.SubSlot.displayName="SubSlot",t.SubSlot.displayName="SubSlot",t},t.default=t.createSlot}])});
//# sourceMappingURL=index.js.map