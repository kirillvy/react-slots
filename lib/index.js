!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("slottr",["react"],t):"object"==typeof exports?exports.slottr=t(require("react")):e.slottr=t(e.react)}(window,function(e){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)o.d(n,l,function(t){return e[t]}.bind(null,l));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(t,o){t.exports=e},function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(o(0));t.isConditionsComponent=e=>void 0!==e.test;class r extends Map{constructor(e){if(super(),this.lastIndex=-1,this.scopeChildren=()=>this.children,this.injectElement=e=>{let t="string";if(l.default.isValidElement(e)&&void 0!==e.type){const o=e.type;t=o.hasOwnProperty("displayName")?o.displayName||"string":o,o.hasOwnProperty("displaySymbol")&&(t=o.displaySymbol)}const o=this.get(t),n=this.pushLastIndex();void 0===o?this.set(t,[{index:n,child:e}]):(o.push({index:n,child:e}),this.set(t,o))},this.includes=(...e)=>e.every(this.evalSlot(!0)),this.includeSlots=e=>e.reduce(this.filterSlot(),[]),this.excludeSlots=(e,t)=>{const o=[],n=r.reduceConds(e);return this.forEach((e,l)=>{if("symbol"!=typeof l&&!0!==t)return;const r=n[l];r?this.filterSlot(!0)(o,r):o.push(...e)}),o},this.nonSlotted=()=>{const e=[];return this.forEach((t,o)=>{"symbol"!=typeof o&&e.push(...t)}),e},this.pushLastIndex=()=>(this.lastIndex+=1,this.lastIndex),this.filterSlot=e=>(o,n)=>{if(t.isConditionsComponent(n)){const{slot:t,test:l}=n,r=this.get(t.displaySymbol);return void 0!==r&&(e?o.push(...r.filter(e=>!l(e.child.props))):o.push(...r.filter(e=>l(e.child.props)))),o}const l=this.get(n.displaySymbol);return void 0!==l&&!0!==e&&o.push(...l),o},this.evalSlot=e=>o=>{if(t.isConditionsComponent(o)){const{slot:t,test:n}=o,l=this.get(t.displaySymbol);return e?void 0!==l&&!0===l.every(e=>n(e.child.props)):void 0!==l&&!0===l.some(e=>n(e.child.props))}return this.has(o.displaySymbol)},!e)return;const o=e=>e.reduce((e,t)=>(t instanceof Array&&t.length?e.push(...o(t)):e.push(t),e),[]);this.children=o([e]);const n=l.default.Children.count(this.children);1===n?this.injectElement(this.children):n>1&&l.default.Children.forEach(e,this.injectElement)}static sortElements(e){return e.sort((e,t)=>e.index-t.index).map(e=>e.child)}static mapElements(e){return e.map(e=>e.child)}excludes(...e){return!e.some(this.evalSlot())}}r.reduceConds=e=>e.reduce((e,o)=>{return e[t.isConditionsComponent(o)?o.slot.displaySymbol:o.displaySymbol]=o,e},{}),t.ScopeMap=r;t.default=e=>{if(e instanceof r)return e;if(void 0===e||0===e.length)return new r;return new r(e)}},function(e,t,o){"use strict";var n=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(o[n[l]]=e[n[l]])}return o},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(o(0)),s=r(o(1));t.injectSlot=(e,t)=>(o,n)=>{const{children:l,defaultProps:r,passedProps:c,withContext:a,props:u,childIs:d}=t;if(!0===a&&void 0!==l){if("fallback"===d)return null;if(void 0===e.Context.Provider)return null;const t=i.cloneElement(o,Object.assign({},u,c));return i.cloneElement(o,Object.assign({key:n},u,c),i.createElement(e.Context.Provider,{key:n,value:s.default(t.props.children)},l))}const p=o.props;return void 0===o.props?o:p.hasOwnProperty("children")?i.cloneElement(o,Object.assign({key:n},u,c)):i.cloneElement(o,Object.assign({key:n},u,r,c),l)};const c=(e=i.Fragment,t)=>o=>{var{children:l,renderAs:r,renderIn:s,renderInProps:c}=o,a=n(o,["children","renderAs","renderIn","renderInProps"]);const u=i.createElement(r||e,a,l);return t&&!0!==t&&!1!==s?i.createElement(t||s,c,u):u},a=(e=i.Fragment,o)=>{const l=c(e,o);return l.Context=i.createContext(null),l.displaySymbol=Symbol(),l.Before=c(),l.Before.displaySymbol=Symbol(),l.After=c(),l.After.displaySymbol=Symbol(),l.Slot=(e=>o=>{const{scope:n,children:l,multiple:r=!1,fallback:c,fallbackProps:a,childIs:u,test:d,noHeaders:p}=o,f=s.default(n),y=f.get(e.displaySymbol),m=f.get(e.Before.displaySymbol)||[],h=f.get(e.After.displaySymbol)||[],b=m.map(e=>e.child),S=h.map(e=>e.child);if(void 0===y)return"fallback"!==u&&"both"!==u||void 0===l?void 0!==c?i.cloneElement(c,a):i.createElement(i.Fragment,null,b,S):i.cloneElement(l,a);if(!0===r){let n=y.reduce((n,{index:l,child:r})=>{const i=t.injectSlot(e,o)(r,l);return null!==i&&n.push(i),n},[]);return void 0!==d&&(n=n.filter(e=>d(e.props))),i.createElement(i.Fragment,null,b,n,S)}const{child:v}=y[0],O=t.injectSlot(e,o)(v);return p&&null===O?O:i.createElement(i.Fragment,null,b,O,S)})(l),l.Slot.displaySymbol=Symbol(),l.SubSlot=(e=>t=>{var{scope:o}=t,l=n(t,["scope"]);return i.createElement(o.Consumer,null,t=>i.createElement(e.Slot,Object.assign({},l,{scope:t})))})(l),l.SubSlot.displaySymbol=Symbol(),"string"!=typeof e&&(l.defaultProps=e.defaultProps,l.contextTypes=e.contextTypes),l.Slot.displayName="Subcomponent.Slot",l.displayName="Subcomponent.SlottedElement",l.SubSlot.displayName="Subcomponent.SubSlot",l};t.default=a,t.createLayeredSlot=(e=i.Fragment,t)=>{const o=a(e,t);return o.Slot=a(o.Slot),o}},function(e,t,o){"use strict";var n=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(o[n[l]]=e[n[l]])}return o},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=l(o(0)),s=r(o(1)),c=e=>t=>{var{scope:o}=t,l=n(t,["scope"]);return i.default.createElement(o.Consumer,null,t=>i.default.createElement(e,Object.assign({},l,{scope:t})))},a=Symbol(),u=Symbol(),d=Symbol(),p=Symbol(),f=({scope:e,excludes:t,includes:o,condition:n})=>{const l=s.default(e),r=!e||!o||l.includes(...o),i=!e||!t||l.excludes(...t),c=void 0===n||Boolean(n);return r&&i&&c};function y(e=i.default.Fragment,t=u,o){function l(t){const{children:r,scope:c,excludes:a,includes:u,condition:d}=t,p=n(t,["children","scope","excludes","includes","condition"]),y=e===i.default.Fragment?{}:Object.assign({scope:c},p),m=s.default(r),h=void 0!==o||f({scope:c,excludes:a,includes:u,condition:d}),b=m.get(l.displaySymbol);let S=null,[v,O]=[!1,!1];if(void 0!==b)for(let e=0;e<b.length;e++){const t=b[e].child,o=f(t.props);if(o&&(S=t),!1!==v||!1!==O||t.type.typeSymbol!==l.If.typeSymbol){if(t.type.typeSymbol!==l.ElseIf.typeSymbol){if(t.type.typeSymbol===l.Else.typeSymbol){S=t;break}}else if(O=!0,o)break}else if(v=!0,o)break}if(h){const t=m.excludeSlots([l],!0);return v&&null!=S?i.default.createElement(e,y,s.ScopeMap.mapElements(t),S):i.default.createElement(e,y,s.ScopeMap.mapElements(t))}return null!==S&&!1===v?i.default.createElement(e,y,S):null}if(l.displaySymbol=a,l.typeSymbol=t,void 0===o){const e=y(i.default.Fragment,u,l),t=y(i.default.Fragment,d,l),o=y(i.default.Fragment,p,l);l.If=e,l.ElseIf=t,l.Else=o,l.SubSlot=c(l)}else setTimeout(()=>{l.If=o.If,l.ElseIf=o.Else,l.Else=o.ElseIf,l.SubSlot=c(o)},0);return l}t.createDefaultConditionalSlot=y;const m=y();t.default=m,t.createConditionalElement=e=>y(e,u)},function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=n(o(1));t.useScope=r.default;const i=l(o(2));t.createSlot=i.default,t.default=i.default,t.createLayeredSlot=i.createLayeredSlot;const s=n(o(5));t.createConditionalSlot=s.default;const c=l(o(3));t.ConditionalSlot=c.default,t.createConditionalElement=c.createConditionalElement;const a=n(o(6));t.FilterSlot=a.default;const u=n(o(7));t.CompositionSlot=u.default},function(e,t,o){"use strict";var n=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(o[n[l]]=e[n[l]])}return o},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=l(o(0)),i=l(o(2)),s=o(3);t.default=(e=r.default.Fragment)=>{const t=i.default(e);return t.Slot.Conditional=s.createDefaultConditionalSlot(t.Slot),t.SubSlot.Conditional=(e=>t=>{var{scope:o}=t,l=n(t,["scope"]);return r.default.createElement(o.Consumer,null,t=>r.default.createElement(e.Slot.Conditional,Object.assign({},l,{scope:t})))})(t),t.Before.Conditional=s.createDefaultConditionalSlot(t.Before),t.Before.Conditional.displaySymbol=t.Before.displaySymbol,t.After.Conditional=s.createDefaultConditionalSlot(t.After),t.After.Conditional.displaySymbol=t.After.displaySymbol,t}},function(e,t,o){"use strict";var n=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(o[n[l]]=e[n[l]])}return o},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=l(o(0)),i=l(o(1));t.createFilterSlot=(e=r.Fragment)=>{const t=({scope:t,exclude:o,include:n,grouped:l,all:s})=>{if(!0===l){const l=i.default(t);let c=[];o?c=l.excludeSlots(o,s):n&&(c=l.includeSlots(n),s&&c.push(...l.nonSlotted()));const a=i.ScopeMap.mapElements(c);return r.createElement(e,{},a)}let c=t;const a=[];t instanceof i.ScopeMap&&(c=t.scopeChildren());const u=n&&i.ScopeMap.reduceConds(n),d=o&&i.ScopeMap.reduceConds(o),p=e=>{const t=(t,o)=>{if(void 0!==t)return i.isConditionsComponent(t)?t.test(e.props)===o?a.push(e):void 0:void(o&&a.push(e))};(e=>e&&e.type&&e.type.displaySymbol)(e)?d?t(d[e.type.displaySymbol],!1):u&&t(u[e.type.displaySymbol],!0):s&&a.push(e)},f=r.Children.count(c);return 1===f?p(c):f>1&&r.Children.forEach(c,p),r.createElement(e,{},a)};return t.SubSlot=(e=>t=>{var{scope:o}=t,l=n(t,["scope"]);return r.createElement(o.Consumer,null,t=>r.createElement(e,Object.assign({},l,{scope:t})))})(t),t};const s=t.createFilterSlot();t.default=s},function(e,t,o){"use strict";var n=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(o[n[l]]=e[n[l]])}return o},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=l(o(0)),i=o(2),s=o(1),c=((e=r.Fragment)=>({scope:e,all:t,children:o})=>{const n=(Array.isArray(o)?o:[o]).reduce((e,t)=>(t.type&&t.type.displaySymbol&&(e[t.type.displaySymbol]||(e[t.type.displaySymbol]=[]),e[t.type.displaySymbol].push(t)),e),{}),l=[],c=(e,o)=>{if((e=>e&&e.type&&e.type.displaySymbol)(e)&&e.type&&e.type.Slot){const t=n[e.type.Slot.displaySymbol];if(t)for(let n=0;n<t.length;n++){const r=t[n],s=i.injectSlot(e.type,r.props)(e,o);s&&l.push(s)}}else t&&l.push(e)};let a=e;e instanceof s.ScopeMap&&(a=e.scopeChildren());const u=r.Children.count(a);return 1===u?c(a):u>1&&r.Children.forEach(a,c),r.createElement(r.Fragment,null,l)})();c.SubSlot=(e=>t=>{var{scope:o}=t,l=n(t,["scope"]);return r.createElement(o.Consumer,null,t=>r.createElement(e,Object.assign({},l,{scope:t})))})(c);const a=c;t.default=a}])});
//# sourceMappingURL=index.js.map