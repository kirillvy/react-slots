!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("react-slots-library",["react"],t):"object"==typeof exports?exports["react-slots-library"]=t(require("react")):e["react-slots-library"]=t(e.react)}(window,function(e){return function(e){var t={};function l(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,l),n.l=!0,n.exports}return l.m=e,l.c=t,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=5)}([function(t,l){t.exports=e},function(e,t,l){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(l(0));t.isConditionsComponent=e=>void 0!==e.test;const r=Symbol();class i extends Map{constructor(){super(...arguments),this.lastIndex=-1,this.instanceType=r,this.injectElement=e=>{let t="string";if(n.default.isValidElement(e)&&void 0!==e.type){const l=e.type;t=l.hasOwnProperty("displayName")?l.displayName||"string":l,l.hasOwnProperty("displaySymbol")&&(t=l.displaySymbol)}const l=this.get(t),o=this.pushLastIndex();void 0===l?this.set(t,[{index:o,child:e}]):(l.push({index:o,child:e}),this.set(t,l))},this.includes=(...e)=>e.every(this.evalSlot(!0)),this.includeSlots=e=>e.reduce(this.filterSlot(),[]),this.excludeSlots=(e,l)=>{const o=[],n=e.reduce((e,l)=>{return e[t.isConditionsComponent(l)?l.slot.displaySymbol:l.displaySymbol]=l,e},{});return this.forEach((e,t)=>{if("symbol"!=typeof t&&!0!==l)return;const r=n[t];r?this.filterSlot(!0)(o,r):o.push(...e)}),o},this.nonSlotted=()=>{const e=[];return this.forEach((t,l)=>{"symbol"!=typeof l&&e.push(...t)}),e},this.pushLastIndex=()=>(this.lastIndex+=1,this.lastIndex),this.filterSlot=e=>(l,o)=>{if(t.isConditionsComponent(o)){const{slot:t,test:n}=o,r=this.get(t.displaySymbol);return void 0!==r&&(e?l.push(...r.filter(e=>!n(e.child.props))):l.push(...r.filter(e=>n(e.child.props)))),l}const n=this.get(o.displaySymbol);return void 0!==n&&!0!==e&&l.push(...n),l},this.evalSlot=e=>l=>{if(t.isConditionsComponent(l)){const{slot:t,test:o}=l,n=this.get(t.displaySymbol);return e?void 0!==n&&!0===n.every(e=>o(e.child.props)):void 0!==n&&!0===n.some(e=>o(e.child.props))}return void 0!==this.get(l.displaySymbol)}}sortElements(e){return e.sort((e,t)=>e.index-t.index).map(e=>e.child)}mapElements(e){return e.map(e=>e.child)}excludes(...e){return!e.some(this.evalSlot())}}Object.defineProperty(i,Symbol.hasInstance,{value:e=>e.instanceType===r});t.default=e=>{if(e instanceof i)return e;if(void 0===e||0===e.length)return new i;const t=n.default.Children.count(e),l=new i;return 1===t?l.injectElement(e):t>1&&n.default.Children.forEach(e,l.injectElement),l}},function(e,t,l){"use strict";var o=this&&this.__rest||function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(l[o[n]]=e[o[n]])}return l},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)Object.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t.default=e,t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(l(0)),s=r(l(1)),a=(e=i.Fragment)=>t=>{var{children:l,renderAs:n}=t,r=o(t,["children","renderAs"]);return i.createElement(n||e,r,l)};t.default=(e=i.Fragment)=>{const t=a(e);return t.Context=i.createContext(null),t.displaySymbol=Symbol(),t.Before=a(),t.Before.displaySymbol=Symbol(),t.After=a(),t.After.displaySymbol=Symbol(),t.Slot=(e=>({scope:t,children:l,multiple:o=!1,defaultProps:n,passedProps:r,withContext:a,fallback:u,fallbackProps:c,props:d,childIs:f,test:p})=>{const y=s.default(t),m=(t,o)=>{if(!0===a&&void 0!==l){if("fallback"===f)return null;if(void 0===e.Context.Provider)return null;const n=i.cloneElement(t,Object.assign({},d,r));return i.cloneElement(t,Object.assign({key:o},d,r),i.createElement(e.Context.Provider,{key:o,value:s.default(n.props.children)},l))}const u=t.props;return void 0===t.props?t:u.hasOwnProperty("children")?i.cloneElement(t,Object.assign({key:o},d,r)):i.cloneElement(t,Object.assign({key:o},d,n,r),l)},b=y.get(e.displaySymbol),h=y.get(e.Before.displaySymbol)||[],S=y.get(e.After.displaySymbol)||[],v=h.map(e=>e.child),O=S.map(e=>e.child);if(void 0===b)return"fallback"!==f&&"both"!==f||void 0===l?void 0!==u?i.cloneElement(u,c):i.createElement(i.Fragment,null,v,O):i.cloneElement(l,c);if(!0===o){let e=b.reduce((e,{index:t,child:l})=>{const o=m(l,t);return null!==o&&e.push(o),e},[]);return void 0!==p&&(e=e.filter(e=>p(e.props))),i.createElement(i.Fragment,null,v,e,O)}const{child:_}=b[0];return i.createElement(i.Fragment,null,v,m(_),O)})(t),t.Slot.displaySymbol=Symbol(),t.SubSlot=(e=>t=>{var{scope:l}=t,n=o(t,["scope"]);return i.createElement(l.Consumer,null,t=>i.createElement(e.Slot,Object.assign({},n,{scope:t})))})(t),t.SubSlot.displaySymbol=Symbol(),"string"!=typeof e&&(t.defaultProps=e.defaultProps,t.contextTypes=e.contextTypes),t.Slot.displayName="Subcomponent.Slot",t.displayName="Subcomponent.SlottedElement",t.SubSlot.displayName="Subcomponent.SubSlot",t}},function(e,t,l){"use strict";var o=this&&this.__rest||function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(l[o[n]]=e[o[n]])}return l},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(l(0)),i=n(l(1)),s=n(l(4)),a=Symbol(),u=Symbol(),c=Symbol(),d=Symbol(),f=({scope:e,excludes:t,includes:l,condition:o})=>{const n=i.default(e),r=!e||!l||n.includes(...l),s=!e||!t||n.excludes(...t),a=void 0===o||Boolean(o);return r&&s&&a};function p(e=r.default.Fragment,t=u,l){function n(t){const{children:a,scope:u,excludes:c,includes:d,condition:p}=t,y=o(t,["children","scope","excludes","includes","condition"]),m=e===r.default.Fragment?{}:Object.assign({scope:u},y),b=i.default(a),h=void 0!==l||f({scope:u,excludes:c,includes:d,condition:p}),S=b.get(n.displaySymbol);let v=null,[O,_]=[!1,!1];if(void 0!==S)for(let e=0;e<S.length;e++){const t=S[e].child,l=f(t.props);if(l&&(v=t),!1!==O||!1!==_||t.type.typeSymbol!==n.If.typeSymbol){if(t.type.typeSymbol!==n.ElseIf.typeSymbol){if(t.type.typeSymbol===n.Else.typeSymbol){v=t;break}}else if(_=!0,l)break}else if(O=!0,l)break}return h?O&&null!=v?r.default.createElement(e,m,r.default.createElement(s.default,{key:0,scope:b,exclude:[n],all:!0}),v):r.default.createElement(e,m,r.default.createElement(s.default,{key:0,scope:b,exclude:[n],all:!0})):null!==v&&!1===O?r.default.createElement(e,m,v):null}if(n.displaySymbol=a,n.typeSymbol=t,void 0===l){const e=p(r.default.Fragment,u,n),t=p(r.default.Fragment,c,n),l=p(r.default.Fragment,d,n);n.If=e,n.ElseIf=t,n.Else=l}else setTimeout(()=>{n.If=l.If,n.ElseIf=l.Else,n.Else=l.ElseIf},0);return n}t.createDefaultConditionalSlot=p;const y=p();t.default=y},function(e,t,l){"use strict";var o=this&&this.__rest||function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(l[o[n]]=e[o[n]])}return l},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)Object.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t.default=e,t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(l(0)),s=r(l(1)),a=({scope:e,exclude:t,include:l,grouped:o,all:n})=>{const r=s.default(e);let a=[];return t?a=r.excludeSlots(t,n):l&&(a=r.includeSlots(l),n&&a.push(...r.nonSlotted())),!0===o?i.createElement(i.Fragment,null,r.mapElements(a)):i.createElement(i.Fragment,null,r.sortElements(a))};a.SubSlot=(e=>t=>{var{scope:l}=t,n=o(t,["scope"]);return i.createElement(l.Consumer,null,t=>i.createElement(e,Object.assign({},n,{scope:t})))})(a);const u=a;t.default=u},function(e,t,l){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(l(1));t.useScope=n.default,t.useChildren=n.default;const r=o(l(2));t.createSlot=r.default;const i=o(l(6));t.createConditionalSlot=i.default;const s=o(l(3));t.ConditionalSlot=s.default;const a=o(l(4));t.FilterSlot=a.default,t.NonSlotted=a.default,t.default=r.default},function(e,t,l){"use strict";var o=this&&this.__rest||function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(l[o[n]]=e[o[n]])}return l},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(l(0)),i=n(l(2)),s=l(3);t.default=(e=r.default.Fragment)=>{const t=i.default(e);return t.Slot.Conditional=s.createDefaultConditionalSlot(t.Slot),t.SubSlot.Conditional=(e=>t=>{var{scope:l}=t,n=o(t,["scope"]);return r.default.createElement(l.Consumer,null,t=>r.default.createElement(e.Slot.Conditional,Object.assign({},n,{scope:t})))})(t),t.Before.Conditional=s.createDefaultConditionalSlot(t.Before),t.Before.Conditional.displaySymbol=t.Before.displaySymbol,t.After.Conditional=s.createDefaultConditionalSlot(t.After),t.After.Conditional.displaySymbol=t.After.displaySymbol,t}}])});
//# sourceMappingURL=index.js.map