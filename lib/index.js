!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("slottr",["react"],t):"object"==typeof exports?exports.slottr=t(require("react")):e.slottr=t(e.react)}(window,function(e){return function(e){var t={};function o(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,l){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(l,n,function(t){return e[t]}.bind(null,n));return l},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(t,o){t.exports=e},function(e,t,o){"use strict";var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(o(0));t.isConditionsComponent=e=>void 0!==e.test;const r=Symbol();class i extends Map{constructor(){super(...arguments),this.lastIndex=-1,this.instanceType=r,this.injectElement=e=>{let t="string";if(n.default.isValidElement(e)&&void 0!==e.type){const o=e.type;t=o.hasOwnProperty("displayName")?o.displayName||"string":o,o.hasOwnProperty("displaySymbol")&&(t=o.displaySymbol)}const o=this.get(t),l=this.pushLastIndex();void 0===o?this.set(t,[{index:l,child:e}]):(o.push({index:l,child:e}),this.set(t,o))},this.includes=(...e)=>e.every(this.evalSlot(!0)),this.includeSlots=e=>e.reduce(this.filterSlot(),[]),this.excludeSlots=(e,o)=>{const l=[],n=e.reduce((e,o)=>{return e[t.isConditionsComponent(o)?o.slot.displaySymbol:o.displaySymbol]=o,e},{});return this.forEach((e,t)=>{if("symbol"!=typeof t&&!0!==o)return;const r=n[t];r?this.filterSlot(!0)(l,r):l.push(...e)}),l},this.nonSlotted=()=>{const e=[];return this.forEach((t,o)=>{"symbol"!=typeof o&&e.push(...t)}),e},this.pushLastIndex=()=>(this.lastIndex+=1,this.lastIndex),this.filterSlot=e=>(o,l)=>{if(t.isConditionsComponent(l)){const{slot:t,test:n}=l,r=this.get(t.displaySymbol);return void 0!==r&&(e?o.push(...r.filter(e=>!n(e.child.props))):o.push(...r.filter(e=>n(e.child.props)))),o}const n=this.get(l.displaySymbol);return void 0!==n&&!0!==e&&o.push(...n),o},this.evalSlot=e=>o=>{if(t.isConditionsComponent(o)){const{slot:t,test:l}=o,n=this.get(t.displaySymbol);return e?void 0!==n&&!0===n.every(e=>l(e.child.props)):void 0!==n&&!0===n.some(e=>l(e.child.props))}return void 0!==this.get(o.displaySymbol)}}sortElements(e){return e.sort((e,t)=>e.index-t.index).map(e=>e.child)}mapElements(e){return e.map(e=>e.child)}excludes(...e){return!e.some(this.evalSlot())}}Object.defineProperty(i,Symbol.hasInstance,{value:e=>e.instanceType===r});t.default=e=>{if(e instanceof i)return e;if(void 0===e||0===e.length)return new i;const t=n.default.Children.count(e),o=new i;return 1===t?o.injectElement(e):t>1&&n.default.Children.forEach(e,o.injectElement),o}},function(e,t,o){"use strict";var l=this&&this.__rest||function(e,t){var o={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(o[l[n]]=e[l[n]])}return o},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(o(0)),s=r(o(1)),u=(e=i.Fragment)=>t=>{var{children:o,renderAs:n}=t,r=l(t,["children","renderAs"]);return i.createElement(n||e,r,o)};t.default=(e=i.Fragment)=>{const t=u(e);return t.Context=i.createContext(null),t.displaySymbol=Symbol(),t.Before=u(),t.Before.displaySymbol=Symbol(),t.After=u(),t.After.displaySymbol=Symbol(),t.Slot=(e=>({scope:t,children:o,multiple:l=!1,defaultProps:n,passedProps:r,withContext:u,fallback:a,fallbackProps:c,props:d,childIs:f,test:p})=>{const y=s.default(t),m=(t,l)=>{if(!0===u&&void 0!==o){if("fallback"===f)return null;if(void 0===e.Context.Provider)return null;const n=i.cloneElement(t,Object.assign({},d,r));return i.cloneElement(t,Object.assign({key:l},d,r),i.createElement(e.Context.Provider,{key:l,value:s.default(n.props.children)},o))}const a=t.props;return void 0===t.props?t:a.hasOwnProperty("children")?i.cloneElement(t,Object.assign({key:l},d,r)):i.cloneElement(t,Object.assign({key:l},d,n,r),o)},b=y.get(e.displaySymbol),h=y.get(e.Before.displaySymbol)||[],S=y.get(e.After.displaySymbol)||[],v=h.map(e=>e.child),O=S.map(e=>e.child);if(void 0===b)return"fallback"!==f&&"both"!==f||void 0===o?void 0!==a?i.cloneElement(a,c):i.createElement(i.Fragment,null,v,O):i.cloneElement(o,c);if(!0===l){let e=b.reduce((e,{index:t,child:o})=>{const l=m(o,t);return null!==l&&e.push(l),e},[]);return void 0!==p&&(e=e.filter(e=>p(e.props))),i.createElement(i.Fragment,null,v,e,O)}const{child:_}=b[0];return i.createElement(i.Fragment,null,v,m(_),O)})(t),t.Slot.displaySymbol=Symbol(),t.SubSlot=(e=>t=>{var{scope:o}=t,n=l(t,["scope"]);return i.createElement(o.Consumer,null,t=>i.createElement(e.Slot,Object.assign({},n,{scope:t})))})(t),t.SubSlot.displaySymbol=Symbol(),"string"!=typeof e&&(t.defaultProps=e.defaultProps,t.contextTypes=e.contextTypes),t.Slot.displayName="Subcomponent.Slot",t.displayName="Subcomponent.SlottedElement",t.SubSlot.displayName="Subcomponent.SubSlot",t}},function(e,t,o){"use strict";var l=this&&this.__rest||function(e,t){var o={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(o[l[n]]=e[l[n]])}return o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(o(0)),i=n(o(1)),s=n(o(4)),u=Symbol(),a=Symbol(),c=Symbol(),d=Symbol(),f=({scope:e,excludes:t,includes:o,condition:l})=>{const n=i.default(e),r=!e||!o||n.includes(...o),s=!e||!t||n.excludes(...t),u=void 0===l||Boolean(l);return r&&s&&u};function p(e=r.default.Fragment,t=a,o){function n(t){const{children:u,scope:a,excludes:c,includes:d,condition:p}=t,y=l(t,["children","scope","excludes","includes","condition"]),m=e===r.default.Fragment?{}:Object.assign({scope:a},y),b=i.default(u),h=void 0!==o||f({scope:a,excludes:c,includes:d,condition:p}),S=b.get(n.displaySymbol);let v=null,[O,_]=[!1,!1];if(void 0!==S)for(let e=0;e<S.length;e++){const t=S[e].child,o=f(t.props);if(o&&(v=t),!1!==O||!1!==_||t.type.typeSymbol!==n.If.typeSymbol){if(t.type.typeSymbol!==n.ElseIf.typeSymbol){if(t.type.typeSymbol===n.Else.typeSymbol){v=t;break}}else if(_=!0,o)break}else if(O=!0,o)break}return h?O&&null!=v?r.default.createElement(e,m,r.default.createElement(s.default,{key:0,scope:b,exclude:[n],all:!0}),v):r.default.createElement(e,m,r.default.createElement(s.default,{key:0,scope:b,exclude:[n],all:!0})):null!==v&&!1===O?r.default.createElement(e,m,v):null}if(n.displaySymbol=u,n.typeSymbol=t,void 0===o){const e=p(r.default.Fragment,a,n),t=p(r.default.Fragment,c,n),o=p(r.default.Fragment,d,n);n.If=e,n.ElseIf=t,n.Else=o}else setTimeout(()=>{n.If=o.If,n.ElseIf=o.Else,n.Else=o.ElseIf},0);return n}t.createDefaultConditionalSlot=p;const y=p();t.default=y},function(e,t,o){"use strict";var l=this&&this.__rest||function(e,t){var o={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(o[l[n]]=e[l[n]])}return o},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(o(0)),s=r(o(1)),u=({scope:e,exclude:t,include:o,grouped:l,all:n})=>{const r=s.default(e);let u=[];return t?u=r.excludeSlots(t,n):o&&(u=r.includeSlots(o),n&&u.push(...r.nonSlotted())),!0===l?i.createElement(i.Fragment,null,r.mapElements(u)):i.createElement(i.Fragment,null,r.sortElements(u))};u.SubSlot=(e=>t=>{var{scope:o}=t,n=l(t,["scope"]);return i.createElement(o.Consumer,null,t=>i.createElement(e,Object.assign({},n,{scope:t})))})(u);const a=u;t.default=a},function(e,t,o){"use strict";var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(o(1));t.useScope=n.default,t.useChildren=n.default;const r=l(o(2));t.createSlot=r.default;const i=l(o(6));t.createConditionalSlot=i.default;const s=l(o(3));t.ConditionalSlot=s.default;const u=l(o(4));t.FilterSlot=u.default,t.NonSlotted=u.default,t.default=r.default},function(e,t,o){"use strict";var l=this&&this.__rest||function(e,t){var o={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(o[l[n]]=e[l[n]])}return o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(o(0)),i=n(o(2)),s=o(3);t.default=(e=r.default.Fragment)=>{const t=i.default(e);return t.Slot.Conditional=s.createDefaultConditionalSlot(t.Slot),t.SubSlot.Conditional=(e=>t=>{var{scope:o}=t,n=l(t,["scope"]);return r.default.createElement(o.Consumer,null,t=>r.default.createElement(e.Slot.Conditional,Object.assign({},n,{scope:t})))})(t),t.Before.Conditional=s.createDefaultConditionalSlot(t.Before),t.Before.Conditional.displaySymbol=t.Before.displaySymbol,t.After.Conditional=s.createDefaultConditionalSlot(t.After),t.After.Conditional.displaySymbol=t.After.displaySymbol,t}}])});
//# sourceMappingURL=index.js.map